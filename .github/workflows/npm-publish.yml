# This workflow will run tests using node and then publish a package to GitHub Packages when a release is created
# For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages
name: Node.js Package

on:
  push:

jobs:
  publish-api:
    runs-on: ubuntu-latest
    steps:
      - run: echo  ${{ secrets.FTP_USER }}
      - run:  echo ${{ secrets.FTP_PASSWORD }}
      - uses: actions/checkout@v2
      - uses: airvzxf/ftp-deployment-action@latest
        with:
          server: 35.183.135.170
          user:  ${{ secrets.FTP_USER }}
          password: ${{ secrets.FTP_PASSWORD }}
          local_dir: ./api
          remote_dir: ./api
          delete: "false"
          max_retries: "1"
          no_symlinks: "false"
          ftp_ssl_allow: "true"
          ftp_use_feat: "true"
          ftp_nop_interval: "9"
          net_max_retries: "0"
          net_persist_retries: "11"
          net_timeout: "13s"
          dns_max_retries: "17"
          dns_fatal_timeout: "never"

        
